+++
title = "Python 中的正则表达式"
date = "2017-09-25"
lastmod = "2017-09-25"
tags = [
    "Python"
]
categories = [
    "Python"
]
+++

本篇博客介绍了 Python 中的正则表达式。

<!--more-->

正则表达式是一个特殊的字符序列，它能方便地检查一个字符串是否与某种模式匹配。

re 模块使 Python 语言拥有全部的正则表达式功能。

compile 函数根据一个模式字符串和可选的标志参数生成一个正则表达式对象。该对象拥有一系列方法用于正则表达式匹配和替换。

re 模块也提供了与这些方法功能完全一致的函数，这些函数使用一个模式字符串做为它们的第一个参数。

### 正则表达式修饰符 - 可选标志

正则表达式可以包含一些可选标志修饰符来控制匹配的模式。修饰符被指定为一个可选的标志。多个标志可以通过按位 OR(|) 它们来指定。如 re.I | re.M 被设置成 I 和 M 标志：

修饰符 | 描述
---|---
re.I | 使匹配对大小写不敏感
re.L | 做本地化识别（locale-aware）匹配
re.M | 多行匹配，影响 ^ 和 $
re.S | 使 . 匹配包括换行在内的所有字符
re.U | 根据Unicode字符集解析字符。这个标志影响 \w, \W, \b, \B.
re.X | 该标志通过给予更灵活的格式以便将正则表达式写得更易于理解。

### 正则表达式模式

模式字符串使用特殊的语法来表示一个正则表达式

1、字母和数字表示他们自身。一个正则表达式模式中的字母和数字匹配同样的字符串。

2、多数字母和数字前加一个反斜杠时会拥有不同的含义。

3、标点符号只有被转义时才匹配自身，否则它们表示特殊的含义。

4、反斜杠本身需要使用反斜杠转义。

5、由于正则表达式通常都包含反斜杠，所以你最好使用原始字符串来表示它们。模式元素(如 r'\t'，等价于 '\\t')匹配相应的特殊字符。

正则表达式模式语法中的特殊元素：

模式 | 描述
---|---
^ | 匹配字符串的开头
$ | 匹配字符串的末尾
. | 匹配任意字符，除了换行符，当re.DOTALL标记被指定时，则可以匹配包括换行符的任意字符
[...]|用来表示一组字符,单独列出：[amk] 匹配 'a'，'m'或'k'
[^...]|不在[]中的字符：[^abc] 匹配除了a,b,c之外的字符
\w|匹配字母数字及下划线
\W|匹配非字母数字及下划线
\s|匹配任意空白字符，等价于 [\t\n\r\f]
\S|匹配任意非空字符
\d|匹配任意数字，等价于 [0-9]
\D|匹配任意非数字
\A|匹配字符串开始
\Z|匹配字符串结束，如果是存在换行，只匹配到换行前的结束字符串
\z|匹配字符串结束
\G|匹配最后匹配完成的位置
re* | 匹配0个或多个的表达式
re+ | 匹配1个或多个的表达式
re? | 匹配0个或1个由前面的正则表达式定义的片段，非贪婪方式
re {n,}|精确匹配n个前面表达式。
re {n,m}|匹配 n 到 m 次由前面的正则表达式定义的片段，贪婪方式
a|b | 匹配a或b
(re)|G匹配括号内的表达式，也表示一个组
(?imx)|正则表达式包含三种可选标志：i, m, 或 x 。只影响括号中的区域。
(?-imx)|正则表达式关闭 i, m, 或 x 可选标志。只影响括号中的区域。
(?:re)|类似 (...), 但是不表示一个组
(?imx:re)|在括号中使用i, m, 或 x 可选标志
(?-imx:re)|在括号中不使用i, m, 或 x 可选标志
(?#...)|注释
